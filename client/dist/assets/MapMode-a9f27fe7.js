import{a as b,u as d,o as h,T as a,j as e,a1 as g,D as l}from"./index-7613718b.js";import{getMapModeLabel as v}from"./NavMain-ecd15b79.js";import{S as y}from"./draw-b7b77294.js";import{A as t}from"./AppLink-7fc5b7dd.js";import"./users-552f53ab.js";import"./url-6d62d571.js";import"./close3-70f6e491.js";const L=()=>{const o=b(),{friends:c,id:u}=d(s=>s.user),r=d(s=>s.app),n=d(s=>s.user),[x,j]=h.useState(a.defaultMode);h.useEffect(()=>{(function(){const s=v(r,c,u);return j(s)})()},[r.mode,r.friendModeId,r.tagModeTag]);function i(s){g(o,s),l(o,"watch")}function N(){l(o,"default")}function M(){l(o,"draw")}return e.jsxs("div",{className:"modeSwitch",children:[e.jsxs("h5",{className:"currentMode",children:[a.currentMode+": ",e.jsx("span",{className:"mp-counter",children:x})]}),e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.watchModeSub1}),e.jsx("div",{className:"friendList",children:c!=null&&c.length?c.map(s=>{var m,p;return e.jsx("div",{className:"friendContainer",children:e.jsx(t,{to:"/",onClick:()=>i(s.id),children:e.jsxs("div",{className:"resultUser cursor-pointer mp-accent-hover transition-small",children:[e.jsx("div",{className:"authorLogo mp-bg-primary",children:e.jsx("span",{className:"mp-dark",title:s.login,children:(p=(m=String(s.name))==null?void 0:m[0])==null?void 0:p.toUpperCase()})}),e.jsxs("div",{className:"resultUser-creds",children:[e.jsx("p",{className:"mp-primary",children:s.name}),e.jsxs("label",{className:"cursor-pointer",children:["(",s.login,")"]})]})]})})},s.id1+s.id2)}):e.jsxs("div",{className:"noFriendsCase",children:[e.jsx("h5",{children:a.watchModeSub2}),e.jsx(t,{to:"/friends",children:e.jsx("button",{children:a.addFriends.capitalize()})})]})})]}),n.id!=="anonimus"&&e.jsx("div",{className:"myMarks",children:e.jsx("button",{className:"button",onClick:()=>i(n.id),children:e.jsx("h5",{className:"title cursor-pointer capitalize",children:a.myMarks})})}),r.mode!=="draw"&&e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.drawMode}),(n==null?void 0:n.level)<2?e.jsx("p",{className:"subtitle",children:a.drawModeLevelOnly}):e.jsxs(e.Fragment,{children:[e.jsx(t,{to:"/",onClick:M,children:e.jsxs("button",{className:"button modeButton drawModeButton",children:[e.jsx(y,{fill:"var(--secondary)",className:"nav-icon"}),a.toDrawMode]})}),e.jsx("p",{className:"subtitle",children:a.watchModeSub3})]})]}),e.jsx("div",{className:"modeType mp-border-secondary",children:r.tagModeTag?e.jsx("div",{children:e.jsxs("h5",{className:"title",children:[e.jsx("span",{className:"capitalize",children:a.tag+": "}),e.jsxs(t,{to:"/tags/item/"+r.tagModeTag,className:"cursor-pointer",children:[e.jsx("span",{className:"mp-secondary",children:"#"}),e.jsx("span",{className:"mp-counter mp-accent-hover",children:r.tagModeTag})]})]})}):e.jsxs("div",{children:[e.jsx("h5",{className:"title",children:a.tags}),e.jsx(t,{to:"/tags",children:e.jsxs("button",{className:"button modeButton tagModeButton tagWrap",children:[e.jsx("span",{className:"bigHashtag mp-secondary",children:"#"}),e.jsx("span",{className:"tagContent",children:a.toTags})]})}),e.jsx("p",{className:"subtitle",children:a.mapTagModeSub})]})}),r.mode&&e.jsx("div",{className:"modeType mp-border-secondary",children:e.jsx(t,{to:"/",onClick:N,children:e.jsx("button",{className:"button modeButton capitalize mp-counter mp-border-counter",children:a.reset})})})]})};export{L as MapMode};
