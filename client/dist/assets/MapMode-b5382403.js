import{a as g,B as v,u as l,r as i,T as a,h as y,j as e,L as d,U as w,y as m}from"./index-c4876c4f.js";import{getMapModeLabel as T}from"./NavMain-99f86e02.js";import{S as f}from"./draw-1616c585.js";import"./users-c3680902.js";import"./close3-0b70ffa6.js";const E=()=>{const r=g(),o=v(),{friends:c,id:x}=l(s=>s.user),t=l(s=>s.app),n=l(s=>s.user),[j,N]=i.useState(a.defaultMode);i.useEffect(()=>{(function(){const s=T(t,c,x);return N(s)})()},[t.mode,t.friendModeId,t.tagModeTag]),i.useEffect(()=>{y(r)},[]);function h(s){o.push("/"),w(r,s),m(r,"watch")}function M(){o.push("/"),m(r,"default")}function b(){o.push("/"),m(r,"draw")}return e.jsxs("div",{className:"modeSwitch",children:[e.jsxs("h5",{className:"currentMode",children:[a.currentMode+": ",e.jsx("span",{className:"mp-counter",children:j})]}),e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.watchModeSub1}),e.jsx("div",{className:"friendList",children:c!=null&&c.length?c.map(s=>{var p,u;return e.jsx("div",{className:"friendContainer",children:e.jsxs("div",{className:"resultUser cursor-pointer mp-accent-hover transition-small",onClick:()=>h(s.id),children:[e.jsx("div",{className:"authorLogo mp-bg-primary",children:e.jsx("span",{className:"mp-dark",title:s.login,children:(u=(p=String(s.name))==null?void 0:p[0])==null?void 0:u.toUpperCase()})}),e.jsxs("div",{className:"resultUser-creds",children:[e.jsx("p",{className:"mp-primary",children:s.name}),e.jsxs("label",{className:"cursor-pointer",children:["(",s.login,")"]})]})]})},s.id1+s.id2)}):e.jsxs("div",{className:"noFriendsCase",children:[e.jsx("h5",{children:a.watchModeSub2}),e.jsx(d,{to:"/friends",children:e.jsx("button",{children:a.addFriends})})]})})]}),e.jsx("div",{className:"myMarks",children:e.jsx("button",{className:"button",onClick:()=>h(n.id),children:e.jsx("h5",{className:"title cursor-pointer capitalize",children:a.myMarks})})}),t.mode!=="draw"&&e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.drawMode}),(n==null?void 0:n.level)<2?e.jsx("p",{className:"subtitle",children:a.drawModeLevelOnly}):e.jsxs(e.Fragment,{children:[e.jsx(d,{to:"/",disabled:!0,children:e.jsxs("button",{className:"button modeButton drawModeButton",onClick:b,children:[e.jsx(f,{fill:"var(--secondary)",className:"nav-icon"}),a.toDrawMode]})}),e.jsx("p",{className:"subtitle",children:a.watchModeSub3})]})]}),e.jsx("div",{className:"modeType mp-border-secondary",children:t.tagModeTag?e.jsx("div",{children:e.jsxs("h5",{className:"title",children:[e.jsx("span",{className:"capitalize",children:a.tag+": "}),e.jsxs(d,{to:"/tags/item/"+t.tagModeTag,className:"cursor-pointer",children:[e.jsx("span",{className:"mp-secondary",children:"#"}),e.jsx("span",{className:"mp-counter mp-accent-hover",children:t.tagModeTag})]})]})}):e.jsxs("div",{children:[e.jsx("h5",{className:"title",children:a.tags}),e.jsx(d,{to:"/tags",children:e.jsxs("button",{className:"button modeButton tagModeButton tagWrap",children:[e.jsx("span",{className:"bigHashtag mp-secondary",children:"#"}),e.jsx("span",{className:"tagContent",children:a.toTags})]})}),e.jsx("p",{className:"subtitle",children:a.mapTagModeSub})]})}),t.mode&&e.jsx("div",{className:"modeType mp-border-secondary",children:e.jsx("button",{className:"button modeButton capitalize mp-counter mp-border-counter",onClick:M,children:a.reset})})]})};export{E as MapMode};
