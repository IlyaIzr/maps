import{a as g,x as v,u as l,f as u,T as a,j as e,L as d,O as y,p as i}from"./index-d82af3d7.js";import{getMapModeLabel as w}from"./NavMain-d7d2ab22.js";import{S as T}from"./draw-32443efb.js";import"./users-f1ab1cab.js";import"./close3-1f046eb5.js";const B=()=>{const c=g(),o=v(),{friends:r,id:x}=l(s=>s.user),t=l(s=>s.app),n=l(s=>s.user),[j,N]=u.useState(a.defaultMode);u.useEffect(()=>{(function(){const s=w(t,r,x);return N(s)})()},[t.mode,t.friendModeId,t.tagModeTag]);function m(s){o.push("/"),y(c,s),i(c,"watch")}function b(){o.push("/"),i(c,"default")}function M(){o.push("/"),i(c,"draw")}return e.jsxs("div",{className:"modeSwitch",children:[e.jsxs("h5",{className:"currentMode",children:[a.currentMode+": ",e.jsx("span",{className:"mp-counter",children:j})]}),e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.watchModeSub1}),e.jsx("div",{className:"friendList",children:r!=null&&r.length?r.map(s=>{var h,p;return e.jsx("div",{className:"friendContainer",children:e.jsxs("div",{className:"resultUser cursor-pointer mp-accent-hover transition-small",onClick:()=>m(s.id),children:[e.jsx("div",{className:"authorLogo mp-bg-primary",children:e.jsx("span",{className:"mp-dark",title:s.login,children:(p=(h=String(s.name))==null?void 0:h[0])==null?void 0:p.toUpperCase()})}),e.jsxs("div",{className:"resultUser-creds",children:[e.jsx("p",{className:"mp-primary",children:s.name}),e.jsxs("label",{className:"cursor-pointer",children:["(",s.login,")"]})]})]})},s.id1+s.id2)}):e.jsxs("div",{className:"noFriendsCase",children:[e.jsx("h5",{children:a.watchModeSub2}),e.jsx(d,{to:"/friends",children:e.jsx("button",{children:a.addFriends})})]})})]}),e.jsx("div",{className:"myMarks",children:e.jsx("button",{className:"button",onClick:()=>m(n.id),children:e.jsx("h5",{className:"title cursor-pointer capitalize",children:a.myMarks})})}),t.mode!=="draw"&&e.jsxs("div",{className:"modeType mp-border-secondary",children:[e.jsx("h5",{className:"title",children:a.drawMode}),(n==null?void 0:n.level)<2?e.jsx("p",{className:"subtitle",children:a.drawModeLevelOnly}):e.jsxs(e.Fragment,{children:[e.jsx(d,{to:"/",disabled:!0,children:e.jsxs("button",{className:"button modeButton drawModeButton",onClick:M,children:[e.jsx(T,{fill:"var(--secondary)",className:"nav-icon"}),a.toDrawMode]})}),e.jsx("p",{className:"subtitle",children:a.watchModeSub3})]})]}),e.jsx("div",{className:"modeType mp-border-secondary",children:t.tagModeTag?e.jsx("div",{children:e.jsxs("h5",{className:"title",children:[e.jsx("span",{className:"capitalize",children:a.tag+": "}),e.jsxs(d,{to:"/tags/item/"+t.tagModeTag,className:"cursor-pointer",children:[e.jsx("span",{className:"mp-secondary",children:"#"}),e.jsx("span",{className:"mp-counter mp-accent-hover",children:t.tagModeTag})]})]})}):e.jsxs("div",{children:[e.jsx("h5",{className:"title",children:a.tags}),e.jsx(d,{to:"/tags",children:e.jsxs("button",{className:"button modeButton tagModeButton tagWrap",children:[e.jsx("span",{className:"bigHashtag mp-secondary",children:"#"}),e.jsx("span",{className:"tagContent",children:a.toTags})]})}),e.jsx("p",{className:"subtitle",children:a.mapTagModeSub})]})}),t.mode&&e.jsx("div",{className:"modeType mp-border-secondary",children:e.jsx("button",{className:"button modeButton capitalize mp-counter mp-border-counter",onClick:b,children:a.reset})})]})};export{B as MapMode};
