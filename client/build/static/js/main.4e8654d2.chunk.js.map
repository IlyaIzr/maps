{"version":3,"sources":["requests/config.js","requests/map.js","rest/colors.js","Map/onLoad.js","Map/onClick.js","rest/helperFuncs.js","Map/Map.jsx","Map/filters.js","rest/lang.js","Map/Rater.jsx","Map/Featurer.jsx","Map/formatGeodata.js","Map/Legend.jsx","store/app.js","Map/Reviews.jsx","Map/Main.jsx","store/user.js","Auth/Login.jsx","Auth/Register.jsx","Auth/AuthMain.jsx","App.jsx","store/root.js","reportWebVitals.js","index.js"],"names":["api","process","getPlaces","minx","maxx","miny","maxy","a","options","method","headers","fetch","response","json","res","getReviews","placeId","postInitReview","data","body","JSON","stringify","postNextReview","gradient","mapOnLoad","map","geoJson","on","e","addSource","type","firstSymbolId","getStyle","layers","find","layer","id","addLayer","paint","mapOnClick","setFeature","resetRater","lesserGeometry","feature","geo","res2","window","turf","union","i","length","geometry","geoFromTurf","someFeatures","querySourceFeatures","filter","sourceLayer","splice","f","findFeatureClones","zoomOnEvent","zoom","lngLat","lng","lat","flyTo","center","features","queryRenderedFeatures","point","featuresNeeded","Set","ratedBefore","source","console","log","flyToFeature","featureToRate","has","getZoom","labelTypes","defaultZoom","getLocation","loc","localStorage","getItem","parse","mapboxgl","accessToken","Map","geoData","setGeoData","featureTrigger","mapContainer","useRef","useEffect","status","current","places","placeData","properties","rating","Number","amount","coordinates","polygon","polyFigure","x","y","container","style","interval","setInterval","getCenter","setItem","saveLocation","clearInterval","setMapData","ref","className","sourceId","getSource","setData","speed","centroid","TEXT","homeLinkBtn","authLinkBtn","setsLinkBtn","login","logout","register","yourName","submit","confirm","greetings","firstTimeRate","placeRatingPrefix","placeAmountPrefix","placeAmountNumberEnds1","placeAmountEndsMultiple","push","commentPlacehol","bestRating","worstRating","reviews","noComments","Rater","setRating","comment","setComment","onSubmit","useState","hover","setHover","onClick","onMouseEnter","target","name","onMouseLeave","Array","star","index","color","cols","rows","value","onInput","placeholder","Featurer","String","endsWith","formatGeodata","multiPoly","north","east","south","west","polyPoints","forEach","polyCoords","polyArray","shapeIndex","lon","join","polygonMapper","multiFormatted","Legend","backgroundColor","background","LOGINUSER","LOGOUTUSER","EXPAND_COMMENTS","SHRINK_COMMENTS","initialState","isLogged","language","reviewsShown","setLoginStatus","d","Reviews","dispatch","useDispatch","useSelector","state","app","setReviews","review","title","author","toUpperCase","Date","timestamp","toLocaleDateString","Boolean","grade","Math","random","noreviews","expandComments","Main","user","setFeatureTrigger","updateLayers","northEastest","southWestest","polyString","tempBox","LngLatBounds","targetId","place","_vectorTileFeature","_x","_y","toFixed","WRITECREDENTIALS","CHANGELEVEL","level","setCredentials","credentials","logIntoApp","Login","username","setUsername","clear","htmlFor","floor","Register","AuthMain","isLogging","App","isMain","setIsMain","prevUser","to","path","rootReducer","combineReducers","act","newLevel","store","createStore","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e8654d2.chunk.js","sourcesContent":["if (process.env.NODE_ENV === 'production') {\r\n  var prodAdress = process.env.REACT_APP_PROD\r\n}\r\n\r\nexport const host = prodAdress || process.env.REACT_APP_LOCAL\r\nexport const api = host + 'api/'","import { api } from './config'\r\n\r\n\r\nexport async function getPlaces(minx, maxx, miny, maxy) {\r\n  const options = {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  }\r\n  try {\r\n    let response\r\n    if (minx) response = await fetch(api + `maps/places?minx=${minx}&miny=${miny}&maxx=${maxx}&maxy=${maxy}`, options)\r\n    else response = await fetch(api + `maps/places`, options)\r\n    const res = await response.json()\r\n    return res\r\n  } catch (err) {\r\n    return err\r\n  }\r\n}\r\n\r\nexport async function getReviews(placeId) {\r\n  const options = {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  }\r\n  try {\r\n    const response = await fetch(api + `maps/reviews?targetId=${placeId}`, options)\r\n    const res = await response.json()\r\n    return res\r\n  } catch (err) {\r\n    return err\r\n  }\r\n}\r\n\r\n\r\nexport async function postInitReview(data) {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ ...data })\r\n  }\r\n  try {\r\n    const response = await fetch(api + 'maps/postInitReview', options)\r\n    const res = await response.json()\r\n    return res\r\n  } catch (err) {\r\n    return err\r\n  }\r\n}\r\n\r\nexport async function postNextReview(data) {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ ...data })\r\n  }\r\n  try {\r\n    const response = await fetch(api + 'maps/postNextReview', options)\r\n    const res = await response.json()\r\n    return res\r\n  } catch (err) {\r\n    return err\r\n  }\r\n}","// Map rating colors\r\n// const draftYellowPurple = ['#e9d5b8', '#e9c5ae', '#dfb7b6', '#d59dbd', '#c379cd', '#f729f6']\r\n// const linearYellowPurpleMeak = ['#e9d1ba', '#edacc6', '#ef8fd1', '#f173db', '#f354e6', '#f729f6']\r\n// const blackToPuplre = ['#170f11', '#2e122e', '#4a1c4a', '#6f2a6f', '#993a99', '#e262c9']\r\n// const redGoldExperiment = ['#5b263c', '#a74b2f',  '#e2734a', '#d5aa83', '#e49b3b', 'gold']\r\n// const linearYellowPurpleBright = ['#eedd71', '#efc682', '#f1a69a', '#f28faa', '#f469c6', '#f729f6']\r\n// const greenRedClassics = ['#712d2d', '#a74b2f', '#e2734a', '#e1b87a', '#8bd38b', '#18a019']\r\n// const lightGreenRed = ['#712d2d', '#a74b2f', '#e2734a', '#e8c337', '#abff38', '#88ff45']\r\nconst brightGreenRed = ['#cd0c0c', '#e14612', '#e1922c', '#e8c337', '#94c52f', '#0aa112']\r\n\r\nexport const gradient = brightGreenRed  \r\n\r\n\r\n// Some green\r\n// export const accentColor = '#a5ec37'\r\n// pale red\r\n// export const accentColor = '#ffadad'\r\n\r\nexport const accentColor = '#ffc900'\r\n// export const counterAccent = '#bcbfff' //good color that doesn't shown. TODO implemetation https://stackoverflow.com/questions/52162989/mapbox-gl-js-changing-polygon-border-width\r\nexport const counterAccent = 'blue'","import { accentColor, counterAccent, gradient } from \"../rest/colors\";\r\n\r\nexport function mapOnLoad(map, geoJson) {\r\n  map.on('load', function (e) {\r\n\r\n    // Define a source before using it to create a new layer\r\n    map.addSource('ratedFeaturesSource', {\r\n      type: 'geojson',\r\n      data: {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": geoJson\r\n      },\r\n    });\r\n    map.addSource('selectedFeatureSrc', {\r\n      type: 'geojson',\r\n      data: {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": []\r\n      },\r\n    });\r\n\r\n\r\n    // Draw data on map\r\n\r\n    // __draw our layer underneath labels\r\n    const layers = map.getStyle().layers;\r\n    const firstSymbolId = layers.find(layer => layer.type === 'symbol').id;\r\n\r\n    map.addLayer({\r\n      'id': 'ratedFeatures',\r\n      'source': 'ratedFeaturesSource',\r\n      // 'source-layer': 'building',\r\n      'minzoom': 11,\r\n      'type': 'fill',\r\n      paint: {\r\n        'fill-opacity': 0.5,\r\n\r\n        'fill-color': [\r\n          \"interpolate\", [\"linear\"], ['get', 'rating'],\r\n\r\n          0, gradient[0],\r\n          1, gradient[1],\r\n          2, gradient[2],\r\n          3, gradient[3],\r\n          4, gradient[4],\r\n          5, gradient[5]\r\n          // 1, '#eee2cc',\r\n          // 5, gradient[5]\r\n        ]\r\n      }\r\n    }, firstSymbolId)\r\n\r\n    map.addLayer({\r\n      'id': 'selectedFeature',\r\n      'source': 'selectedFeatureSrc',\r\n      'minzoom': 13,\r\n      'type': 'fill',\r\n      paint: {\r\n        'fill-opacity': 0.9,\r\n        'fill-color': accentColor,\r\n        'fill-outline-color': counterAccent\r\n      }\r\n    }, firstSymbolId)\r\n\r\n  })\r\n}","import { flyToFeature } from \"./Map\"\r\n\r\nexport function mapOnClick(map, setFeature, resetRater) {\r\n  function geoFromTurf(geo) {\r\n    if (!geo[1]) return geo[0]\r\n    let res2 = window.turf.union(geo[0], geo[1])\r\n    if (geo[2]) for (let i = 2; i < geo.length; i++) {\r\n      res2 = window.turf.union(res2, geo[i])\r\n    }\r\n\r\n    return res2.geometry\r\n  }\r\n  function findFeatureClones(feature) {\r\n    const someFeatures = map.querySourceFeatures(\"composite\",\r\n      {\r\n        filter: [\"any\", [\"==\", [\"id\"], feature.id]],\r\n        sourceLayer: feature.sourceLayer\r\n      }\r\n    )\r\n    someFeatures.splice(someFeatures.length / 2)\r\n    return someFeatures.map(f => f.geometry)\r\n  }\r\n  function lesserGeometry(feature) {\r\n    const features = findFeatureClones(feature) || []\r\n    return geoFromTurf(features)\r\n  }\r\n\r\n  map.on('click', function (e) {\r\n    resetRater()\r\n    function zoomOnEvent(zoom) {\r\n      const { lng, lat } = e.lngLat\r\n      map.flyTo({ center: [lng, lat], zoom: zoom });\r\n    }\r\n    // if (map.getZoom() < 16) zoomOnEvent(16)\r\n\r\n    const features = map.queryRenderedFeatures(e.point);\r\n    const featuresNeeded = new Set(['building', 'landuse'])\r\n\r\n    // Case next timer\r\n    const ratedBefore = features.find(feature => feature.source === 'ratedFeaturesSource')\r\n    if (ratedBefore) {\r\n      console.log('found rated feature', ratedBefore.geometry);\r\n\r\n      \r\n      flyToFeature(map, ratedBefore)\r\n      setFeature(ratedBefore)\r\n      return;\r\n    }\r\n\r\n    // Case first timer\r\n    const featureToRate = features.find(feature => featuresNeeded.has(feature.sourceLayer))\r\n    if (featureToRate?.id) {\r\n      console.log('found feature', featureToRate);\r\n      // console.log('%c⧭ source', 'color: #1d5673', featureToRate.geometry);\r\n\r\n\r\n      const zoom = map.getZoom()\r\n      flyToFeature(map, featureToRate, zoom < 16 ? 16 : zoom) //TODO make some sort of buffer \r\n      // flyToFeature(map, featureToRate)\r\n      setFeature({ ...featureToRate, geometry: lesserGeometry(featureToRate) })\r\n\r\n    } else if (featureToRate) {\r\n      console.log('interesting, but no id', featureToRate);\r\n\r\n\r\n      zoomOnEvent(map.getZoom() + 1)\r\n      setFeature(null)\r\n    }\r\n    else {\r\n      console.log('no interesting features', features);\r\n\r\n\r\n      const labelTypes = new Set(['natural_label', 'place_label', 'poi_label', 'housenum_label', 'airport_label'])\r\n      const labelFeature = features.find(feature => labelTypes.has(feature.sourceLayer))\r\n      if (labelFeature) {\r\n        const defaultZoom = map.getZoom() + 1\r\n        defaultZoom < 16 && zoomOnEvent(defaultZoom)\r\n      }\r\n      setFeature(null)\r\n    }\r\n\r\n  });\r\n}","export function saveLocation({ lng, lat }) {\r\n  window.localStorage.setItem('lastLocation', JSON.stringify({ lng, lat }))\r\n}\r\n\r\nexport function getLocation() {\r\n  let loc = window.localStorage.getItem('lastLocation')\r\n  if (!loc) return {}\r\n  loc = JSON.parse(loc)\r\n  const { lng, lat } = loc\r\n  return { lng, lat }\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\nimport { getPlaces } from '../requests/map';\r\nimport { mapOnLoad } from './onLoad';\r\nimport { geoJsonFromResponse } from './filters';\r\nimport { mapOnClick } from './onClick';\r\nimport { getLocation, saveLocation } from '../rest/helperFuncs';\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_T;\r\n\r\nexport const Map = ({ feature, setFeature, resetRater, geoData, setGeoData, featureTrigger }) => {\r\n  const mapContainer = useRef(null);\r\n\r\n  const map = useRef(null);\r\n  // const [lng, setLng] = useState(-122.447303);\r\n  // const [lat, setLat] = useState(37.753574);\r\n  // const [zoom, setZoom] = useState(16);\r\n\r\n\r\n  // Init map\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { lng, lat } = getLocation()\r\n\r\n      const res = await getPlaces()\r\n      if (res.status !== 'OK') return console.log('bad request', res);\r\n      if (map.current) return; // initialize map only once, dev environment optimization\r\n\r\n      const geoJson = geoJsonFromResponse(res.data)\r\n\r\n      setGeoData(geoJson)\r\n\r\n      map.current = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        // style: 'mapbox://styles/mapbox/streets-v11',\r\n        // style: 'mapbox://styles/ilyaizr/ckpk75aca0hbg17ouqvzsda51',     //pale basic styles\r\n        style: 'mapbox://styles/ilyaizr/ckpk88ybo17tn17mzmd5etst8',    //pale-ish from streets-v11     \r\n        // center: [-122.447303, 37.753574],  // palo alto\r\n        center: [lng || 34.354, lat || 53.235], // bryansk\r\n        zoom: 16\r\n      });\r\n\r\n      mapOnLoad(map.current, geoJson)\r\n      mapOnClick(map.current, setFeature, resetRater)\r\n    })()\r\n\r\n    const interval = setInterval(() => {\r\n      const loc = map.current?.getCenter?.()\r\n      if (loc) saveLocation(loc)\r\n    }, 10000);\r\n    \r\n    return () => clearInterval(interval)\r\n    /* eslint-disable */\r\n  }, []);\r\n  /* eslint-enable */\r\n\r\n  // Dynamic geodata\r\n  useEffect(() => {\r\n    if (!map.current) return; // wait for map to initialize\r\n    setMapData(map.current, geoData, 'ratedFeaturesSource')\r\n    // console.log('%c⧭', 'color: #73998c', 'adding data to source', geoData);\r\n    /* eslint-disable */\r\n  }, [featureTrigger]);\r\n  /* eslint-enable */\r\n\r\n  // Mark selected feature\r\n  useEffect(() => {\r\n    if (!map.current) return; // wait for map to initialize\r\n    setMapData(map.current, [feature || {}], 'selectedFeatureSrc')\r\n    /* eslint-disable */\r\n  }, [feature]);\r\n  /* eslint-enable */\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div ref={mapContainer} className=\"map-container\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function setMapData(map, geoData, sourceId) {\r\n  map.getSource(sourceId).setData({\r\n    \"type\": \"FeatureCollection\",\r\n    \"features\": geoData\r\n  })\r\n}\r\n\r\nexport function flyToFeature(map, feature, zoom = 16, speed = 0.5) {\r\n  const [lng, lat] = window.turf.centroid(feature.geometry).geometry.coordinates\r\n  map.flyTo({ center: [lng, lat], zoom, speed });\r\n}","export function geoJsonFromResponse(places) {\r\n  if (!places?.length) return []\r\n\r\n  const geoJson = places.map(placeData => {\r\n    const res = {\r\n      type: 'Feature',\r\n      geometry: {\r\n        type: \"MultiPolygon\",\r\n      },\r\n      id: placeData.id,\r\n      properties: {\r\n        rating: Number(placeData.rating),\r\n        amount: placeData.amount\r\n      },\r\n      source: \"composite\",\r\n      sourceLayer: \"building\"\r\n    }\r\n    // if (placeData?.polygon?.length > 1) res.geometry.type = \"MultiPolygon\"\r\n\r\n    // Case multypolygon\r\n    res.geometry.coordinates = placeData?.polygon?.map(polygon => polygon.map(polyFigure => {\r\n      return polyFigure.map(polygon => [polygon.x, polygon.y])\r\n    }))\r\n\r\n    return res\r\n  })\r\n  return geoJson\r\n}","// const basicLanguage = {\r\n//   homeLinkBtn: \"Home\",\r\n//   authLinkBtn: \"Authorize\",\r\n//   setsLinkBtn: \"Settings\",\r\n//   login: \"Login\",\r\n//   register: 'Register',\r\n//   yourName: 'Your name',\r\n//   submit: 'Submit',\r\n//   confirm: 'Confirm',\r\n//   greetings: 'Hello there',\r\n//   firstTimeRate: 'You have an honor to be first to rate this place!',\r\n//   placeRatingPrefix: 'This place has rating of',\r\n//   placeAmountPrefix: 'Rated',\r\n//   placeAmountNumberEnds1: 'time',\r\n//   placeAmountNPostfix: 's',\r\n//   push: 'Push',\r\n//   commentPlacehol: 'any comments?'\r\n// }\r\nconst rus = {\r\n  homeLinkBtn: \"Главная\",\r\n  authLinkBtn: \"Логин\",\r\n  setsLinkBtn: \"Настройки\",\r\n  login: \"Логин\",\r\n  logout: 'Выйти',\r\n  register: 'Регистрация',\r\n  yourName: 'Ваше имя',\r\n  submit: 'Отправить',\r\n  confirm: 'Подтвердить',\r\n  greetings: 'Привет',\r\n  firstTimeRate: 'Вам выпала честь первым оценить это место!',\r\n  placeRatingPrefix: 'Общий рейтинг',\r\n  placeAmountPrefix: 'Это место оценили',\r\n  placeAmountNumberEnds1: 'раз',\r\n  placeAmountEndsMultiple: 'раза',\r\n  push: 'Нажать',\r\n  commentPlacehol: 'есть комментарии?',\r\n  rating: 'Ваша оценка',\r\n  bestRating: 'Замечательно',\r\n  worstRating: 'Ужасно',\r\n  reviews: 'Отзывы',\r\n  noComments: 'Без комментариев'\r\n}\r\n\r\n// export const TEXT = window.APPTEXT || basicLanguage\r\nexport const TEXT = rus","import React from 'react'\r\nimport { useState } from 'react';\r\nimport { gradient } from '../rest/colors';\r\nimport { TEXT } from '../rest/lang';\r\n\r\nexport const Rater = ({ rating, setRating, comment, setComment, onSubmit }) => {\r\n  const [hover, setHover] = useState(0);\r\n\r\n  function onClick(e) {\r\n    setRating(hover)\r\n  }\r\n  function onInput(e) {\r\n    setComment(e.target.value)\r\n  }\r\n  function onSub() {\r\n    setHover(0)\r\n    onSubmit()\r\n  }\r\n  function onMouseEnter(e) {\r\n    setHover(Number(e.target.name))\r\n  }\r\n  function onMouseLeave() {\r\n    setHover(rating)\r\n  }\r\n\r\n  // TODO make stars with rating gradient\r\n  return (\r\n    <div className=\"rater\">\r\n\r\n      <div className=\"stars\">\r\n        <h5 className=\"starRating\">{TEXT.rating} :</h5> <span className=\"hoverValue mp-dark\">{hover}</span>\r\n        <br />\r\n        {[...Array(5)].map((star, index) => {\r\n          index += 1;\r\n          return (\r\n            <button\r\n              type=\"button\"\r\n              key={index}\r\n              name={index}\r\n              className={index <= (hover || rating) ? \"mp-accent starButton\" : \"mp-secondary starButton\"}\r\n              onClick={onClick}\r\n              onMouseEnter={onMouseEnter}\r\n              onMouseLeave={onMouseLeave}\r\n              style={index <= (hover || rating) ? { color: gradient[hover] } : {}}\r\n            >\r\n              <span className=\"star\">&#9733;</span>\r\n            </button>\r\n          );\r\n        })}\r\n\r\n      </div>\r\n\r\n      <textarea\r\n        name=\"comment\" cols=\"31\" rows=\"2\"\r\n        value={comment} onInput={onInput}\r\n        className=\"raterComment\"\r\n        placeholder={TEXT.commentPlacehol}\r\n      />\r\n\r\n      <div className=\"raterBtnContainer\">\r\n        <button type=\"button\" onClick={onSub}>{TEXT.push}</button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { TEXT } from \"../rest/lang\";\r\n\r\nexport const Featurer = ({ feature }) => {\r\n  if (!feature?.source) {\r\n    console.log('wtf feature', feature);\r\n    return null\r\n  }\r\n  if (feature.source === 'ratedFeaturesSource') return (\r\n    <div className=\"featurer\">\r\n      <p className=\"rateAmount\">\r\n        {TEXT.placeAmountPrefix + ' ' + feature.properties.amount + ' '}\r\n        {String(feature.properties.amount).endsWith('1') ? TEXT.placeAmountNumberEnds1 : TEXT.placeAmountEndsMultiple}\r\n      </p>\r\n      <h5 className=\"rateValue\">\r\n        {TEXT.placeRatingPrefix}:\r\n      <span className=\"rateNumber\"> {feature.properties.rating}</span>\r\n      </h5>\r\n    </div>\r\n  )\r\n  return (\r\n    <div className=\"featurer\">\r\n      {TEXT.firstTimeRate}\r\n    </div>\r\n  )\r\n}\r\n","export function formatGeodata(geometry) {\r\n  // Treat everyone as multiPoly\r\n  let multiPoly\r\n  if (geometry.type === 'Polygon') {\r\n    multiPoly = [geometry.coordinates]\r\n  }\r\n  else multiPoly = geometry.coordinates\r\n\r\n  let north = -90\r\n  let east = -180\r\n  let south = 90\r\n  let west = 180\r\n\r\n  // 'MULTIPOLYGON('\r\n  const polyPoints = []\r\n\r\n  multiPoly.forEach((polyCoords) => {\r\n    polyPoints.push( polygonMapper(polyCoords))\r\n  })\r\n  const multiFormatted = 'MULTIPOLYGON(' + polyPoints.join(', ') + ')'\r\n\r\n  function polygonMapper(polyCoords) {\r\n    const polyArray = []\r\n    polyCoords.forEach((coordinates, shapeIndex) => {\r\n      polyArray.push('(')\r\n      // Map through each poly entity\r\n      coordinates.forEach(([lon, lat], i) => {\r\n        //    Find medium lon and lat\r\n        // Lesser longitude = more western\r\n        if (lon < west) west = lon\r\n        if (lon > east) east = lon\r\n        // Lesser latitude - more southern\r\n        if (lat > north) north = lat\r\n        if (lat < south) south = lat\r\n\r\n        // Store polydata\r\n        polyArray[shapeIndex] += (i ? ', ' : '') + String(lon) + ' ' + String(lat)\r\n      })\r\n      polyArray[shapeIndex] += ')'\r\n    })\r\n\r\n    return '(' + polyArray.join(',') + ')'\r\n  }\r\n\r\n\r\n  return [\r\n    [east, north],\r\n    [west, south],\r\n    multiFormatted\r\n  ]\r\n}\r\n","import React from 'react'\r\nimport { gradient } from '../rest/colors'\r\nimport { TEXT } from '../rest/lang'\r\n\r\nexport const Legend = () => {\r\n  return (\r\n    <div className=\"mapLegend mp-bg-light mp-border-secondary mp-shadow-light\">\r\n      <div className=\"ratingLegend\">\r\n        <div className=\"ratingDescription\">\r\n          <span>{TEXT.worstRating}</span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span>{TEXT.bestRating}</span>\r\n        </div>\r\n        <div className=\"ratingUnitsWrap\">\r\n          {gradient.map((color, i) => {\r\n            return (\r\n              <div className=\"ratingUnit\" key={color + i}>\r\n                <span className=\"ratingColor\" style={{ backgroundColor: color }}></span>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className=\"ratingGradientWrap\">\r\n          <div className=\"ratingGradient\" style={{ background: `linear-gradient(90deg, ${gradient[0]}, ${gradient[3]}, ${gradient[5]})` }}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","// Name consts\r\nconst LOGINUSER = 'app/log_in'\r\nconst LOGOUTUSER = 'app/log_out'\r\nconst EXPAND_COMMENTS = 'app/expand_comms'\r\nconst SHRINK_COMMENTS = 'app/shrink_comms'\r\n\r\n// Reducer\r\nconst initialState = {\r\n  isLogged: false,\r\n  language: 'en',\r\n  reviewsShown: true\r\n}\r\n\r\nexport function appReducer(state = initialState, act) {\r\n  switch (act.type) {\r\n    case LOGINUSER: {\r\n      return {\r\n        ...state, isLogged: true\r\n      }\r\n    }\r\n    case LOGOUTUSER: {\r\n      return {\r\n        ...state, isLogged: false\r\n      }\r\n    }\r\n    case SHRINK_COMMENTS: {\r\n      return {\r\n        ...state, reviewsShown: false\r\n      }\r\n    }\r\n    case EXPAND_COMMENTS: {\r\n      return {\r\n        ...state, reviewsShown: true\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Actions\r\nexport const setLoginStatus = (d, status = false) => {\r\n  if (status) d({ type: LOGINUSER })\r\n  else d({ type: LOGOUTUSER })\r\n}\r\n\r\nexport const expandComments = (d) => {\r\n  d({ type: EXPAND_COMMENTS })\r\n}\r\n\r\nexport const shrinkComments = (d) => {\r\n  d({ type: SHRINK_COMMENTS })\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getReviews } from '../requests/map';\r\nimport { TEXT } from '../rest/lang';\r\nimport { expandComments, shrinkComments } from '../store/app';\r\n\r\nexport const Reviews = ({ feature }) => {\r\n  const dispatch = useDispatch()\r\n  const { reviewsShown } = useSelector(state => state.app)\r\n\r\n  const [reviews, setReviews] = useState([])\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const res = await getReviews(feature.id)\r\n      if (res.status !== 'OK') return console.log('error with res', res);\r\n      setReviews(res.data)\r\n    })()\r\n    // Cleanup. Do we need it?\r\n    return () => {\r\n      setReviews([])\r\n    }\r\n  }, [])\r\n\r\n  function onClick() {\r\n    reviewsShown ? shrinkComments(dispatch) : expandComments(dispatch)\r\n  }\r\n\r\n  \r\n  if (feature?.source !== 'ratedFeaturesSource') return (null)\r\n  return (\r\n    <div className={`reviewsContainer ${reviewsShown ? 'expanded' : 'shrinked'}`}>\r\n      {reviews.length ? reviews.map(review => {\r\n        console.log('%c⧭', 'color: #8c0038', review);\r\n        return (\r\n          <div className=\"reviewWrap mp-border-secondary mp-shadow-light\" key={review.author + review.grade + Math.random()}>\r\n            <div className=\"authorLogo mp-bg-counter\">\r\n              <span className=\"mp-primary\" title={review.author}>{String(review.author)?.[0]?.toUpperCase()}</span>\r\n            </div>\r\n            <div className=\"reviewBody\">\r\n              <p className=\"author\">{review.author}</p>\r\n              <div className=\"reviewDate mp-secondary\">{new Date(review.timestamp).toLocaleDateString()}</div>\r\n              {Boolean(review.comment) && <div className=\"reviewComment mp-bg-primary\">{review.comment}</div>}\r\n              <div className=\"reviewRating\">{review.grade}/5\r\n              <span className=\"reviewStars stars\">\r\n                  {[...Array(5)].map((star, index) => {\r\n                    index += 1;\r\n                    return (\r\n                      <span key={index}\r\n                        className={index <= (review.grade) ? \"mp-accent starButton\" : \"mp-secondary starButton\"}\r\n                      >&#9733;\r\n                      </span>\r\n                    );\r\n                  })}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }) :\r\n        <div>{TEXT.noreviews}</div>\r\n      }\r\n\r\n      <div className=\"skipperContainer\">\r\n        <div className=\"skipper mp-bg-light mp-border-secondary\" onClick={onClick}>\r\n          {reviewsShown ? \r\n            <span className=\"mp-secondary\">&#8613;</span> :\r\n            <span className=\"mp-secondary\">&#8615;</span>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\nimport { Map } from './Map'\r\nimport { Rater } from './Rater'\r\nimport { Featurer } from './Featurer';\r\nimport { formatGeodata } from './formatGeodata'\r\nimport { postInitReview, postNextReview } from '../requests/map';\r\nimport './Maps.css'\r\nimport { Legend } from './Legend';\r\nimport { Reviews } from './Reviews';\r\n\r\n\r\nexport const Main = () => {\r\n  // Store\r\n  const user = useSelector(state => state.user)\r\n  // Rater\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('')\r\n  const [feature, setFeature] = useState(null);\r\n  // Map\r\n  const [geoData, setGeoData] = useState(null)\r\n  const [featureTrigger, setFeatureTrigger] = useState(0);\r\n  function updateLayers() {\r\n    setFeatureTrigger(featureTrigger + 1)\r\n  }\r\n\r\n  function resetRater() {\r\n    setRating(0)\r\n    setComment('')\r\n    setFeature(null)\r\n  }\r\n\r\n  async function onSubmit() {\r\n    // Calculations\r\n    const [northEastest, southWestest, polyString] = formatGeodata(feature.geometry)\r\n    const tempBox = new mapboxgl.LngLatBounds(northEastest, southWestest)\r\n    const { lng, lat } = tempBox.getCenter()\r\n\r\n    // Data to store\r\n    const review = {\r\n      comment,\r\n      grade: rating,\r\n      targetId: feature.id,\r\n    }\r\n    const place = {\r\n      lng, lat,\r\n      x: feature._vectorTileFeature._x,\r\n      y: feature._vectorTileFeature._y,\r\n      id: feature.id,\r\n      polyString\r\n    }\r\n    // Case next review\r\n    if (feature.source === 'ratedFeaturesSource') {\r\n      const res = await postNextReview({ user: user.login, review, place: { ...feature.properties, id: feature.id } })\r\n      if (res.status !== 'OK') return console.log('%c⧭', 'color: #bf1d00', res);\r\n      // Mutate geoData\r\n      for (let i = 0; i < geoData.length; i++) {\r\n        if (geoData[i].id === feature.id) {\r\n          const { amount, rating } = feature.properties\r\n          geoData[i].properties = {\r\n            rating: +((amount * rating + review.grade) / (amount + 1)).toFixed(5),  //toFixed - 5 numbers after point\r\n            amount: amount + 1\r\n          }\r\n          break;\r\n        }\r\n      } setGeoData(geoData)\r\n      updateLayers()\r\n      return resetRater()\r\n    }\r\n\r\n\r\n    // Case first time review\r\n    // console.log(user.login, review, place);\r\n    setGeoData([...geoData, {\r\n      type: 'Feature',\r\n      properties: { rating, amount: 1 },\r\n      id: feature.id,\r\n      // geometry: {...feature.geometry}\r\n      geometry: feature.geometry\r\n    }])\r\n    updateLayers()\r\n    const res = await postInitReview({ user: user.login, review, place })\r\n    if (res.status !== 'OK') return console.log('%c⧭', 'color: #bf1d00', res);\r\n\r\n    // Restore init features\r\n    resetRater()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Map\r\n        feature={feature} setFeature={setFeature}\r\n        resetRater={resetRater}\r\n        geoData={geoData} setGeoData={setGeoData}\r\n        featureTrigger={featureTrigger}\r\n      />\r\n      <Legend />\r\n      {feature &&\r\n        <div className=\"featureContainer mp-bg-light mp-border-secondary\">\r\n          <Featurer feature={feature} />\r\n          <Rater\r\n            rating={rating} setRating={setRating}\r\n            comment={comment} setComment={setComment}\r\n            onSubmit={onSubmit}\r\n          />\r\n          <Reviews feature={feature} />\r\n          <div className=\"closeFeature\" onClick={resetRater}>&#10005;</div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import { setLoginStatus } from './app'\r\n// Name consts\r\nconst WRITECREDENTIALS = 'user/set_credentials'\r\nconst CHANGELEVEL = 'user/set_level'\r\n\r\n// Reducer\r\nconst initialState = {\r\n  name: 'anonimus',\r\n  login: 'anonimus',\r\n  level: 0,\r\n  id: 1\r\n}\r\n\r\nexport function userReducer(state = initialState, act) {\r\n  switch (act.type) {\r\n    case WRITECREDENTIALS: {\r\n      return {\r\n        ...state, ...act.credentials\r\n      }\r\n    }\r\n    case CHANGELEVEL: {\r\n      return {\r\n        ...state, level: act.newLevel\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Actions\r\nexport const setCredentials = (d, name, login, id) => {\r\n  d({ type: WRITECREDENTIALS, credentials: { name, login, id } })\r\n}\r\nexport const logIntoApp = (d, name, login, id) => {\r\n  setCredentials(d, name, login, id)\r\n  setLoginStatus(d, true)\r\n}\r\nexport const logOutOfApp = (d) => {\r\n  setCredentials(d, '', '', '')\r\n  setLoginStatus(d, false)\r\n}\r\n\r\nexport const setUserLevel = (d, level) => {\r\n  d({ type: WRITECREDENTIALS, newLevel: Number(level) })\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TEXT } from '../rest/lang';\r\nimport { logIntoApp, logOutOfApp } from '../store/user';\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState('')\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n  const app = useSelector(state => state.app)\r\n\r\n  function onInput(e) {\r\n    setUsername(e.target.value)\r\n  }\r\n  function onSubmit() {\r\n    logIntoApp(dispatch, username, username, username + '-' + Math.floor(Math.random() * 1000))\r\n    window.localStorage.setItem('usernameTemp', username)\r\n  }\r\n  function logOut() {\r\n    window.localStorage.clear()\r\n    setUsername('')\r\n    logOutOfApp(dispatch)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (username !== user.name) setUsername(user.name)\r\n  }, [user.name])\r\n\r\n\r\n  return (\r\n    <div>{\r\n      app.isLogged ? <div>\r\n        <h4>{TEXT.greetings}, {username}</h4>\r\n\r\n        <button className=\"primary\" onClick={logOut}>{TEXT.logout}</button>\r\n      </div>\r\n        :\r\n        <>\r\n          <label htmlFor=\"name\">{TEXT.yourName}</label>\r\n          <input type=\"text\" name=\"name\" value={username} onInput={onInput} />\r\n          <button className=\"primary\" onClick={onSubmit}>{TEXT.confirm}</button>\r\n        </>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Register = () => {\r\n  return (\r\n    <div>\r\n      TBC\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { TEXT } from '../rest/lang'\r\nimport { Login } from './Login'\r\nimport { Register } from './Register'\r\n\r\nexport const AuthMain = () => {\r\n  const [isLogging, setIsLogging] = useState(true)\r\n  return (\r\n    <div>\r\n      {/* <h5>Login or register?</h5>\r\n      <div>\r\n        <button onClick={() => setIsLogging(true)}>{TEXT.login}</button>\r\n        <button onClick={() => setIsLogging(false)}>{TEXT.register}</button>\r\n      </div> */}\r\n      {isLogging ? <Login /> : <Register />}\r\n    </div>\r\n  )\r\n}\r\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n// Components\nimport { Main } from \"./Map/Main\";\nimport { AuthMain } from './Auth/AuthMain'\nimport { useEffect, useState } from \"react\";\nimport { TEXT } from \"./rest/lang\";\n\nimport './App.css'\nimport './rest/colors.css'\nimport { logIntoApp } from \"./store/user\";\nimport { useDispatch } from \"react-redux\";\n\n\nfunction App() {\n  const [isMain, setIsMain] = useState(true);\n  const dispatch = useDispatch()\n  \n  useEffect(() => {\n    const prevUser = window.localStorage.getItem('usernameTemp')\n    if (prevUser) {\n      logIntoApp(dispatch, prevUser, prevUser, prevUser + '-' + Math.floor(Math.random() * 1000))\n    }\n  }, [])\n\n  return (\n    <Router>\n\n      {/* navigation to be here */}\n      <div className=\"mainNavigation mp-bg-light mp-border-secondary\">\n        <Link className=\"mp-border-secondary\" to=\"/\" onClick={() => setIsMain(true)}>\n          {TEXT.homeLinkBtn}\n        </Link>\n        <Link className=\"mp-border-secondary\" to=\"/auth\" onClick={() => setIsMain(false)}>\n          {TEXT.authLinkBtn}\n        </Link>\n        <Link className=\"mp-border-secondary\" to=\"/settings\" onClick={() => setIsMain(false)}>\n          {TEXT.setsLinkBtn}\n        </Link>\n      </div>\n      {/* navigation to be here */}\n\n      <div className={isMain ? \"mainWrapper\" : \"hidden\"}>\n        <Main />\n      </div>\n\n      {/* Extra subpages */}\n\n      <Switch>\n\n        <Route path=\"/settings\">\n          <div className=\"routeWrapper\">\n            Settings component will be released soon\n          </div>\n        </Route>\n\n        <Route path=\"/auth\">\n          <div className=\"routeWrapper\">\n            <AuthMain />\n          </div>\n        </Route>\n\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { combineReducers, createStore } from 'redux';\r\nimport { appReducer } from './app';\r\nimport { userReducer } from './user';\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n  user: userReducer,\r\n  app: appReducer\r\n});\r\n\r\nexport const store = createStore(rootReducer);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { store } from './store/root';\nimport { Provider } from 'react-redux'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}